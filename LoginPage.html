<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Library Login</title>
<link rel="stylesheet" href="login.css">
</head>

<body>

    <div class="login-container">
        <h2>Library Login</h2>
        <form id="loginForm" method="POST" action="login_process.php"> <!-- PHP: Action points to PHP script -->
            <div class="form-group">
                <label for="username">Username:</label>
                <input type="text" id="username" name="username" required>
            </div>
            <div class="form-group">
                <label for="password">Password:</label>
                <input type="password" id="password" name="password" required>
            </div>
            <button type="submit">Login</button>
        </form>
        <div id="messageDiv" class="message"></div> <!-- PHP: For showing messages -->
    </div>

    <script>
        // Frontend validation (optional, but good practice)
        document.getElementById('loginForm').addEventListener('submit', function (event) {
            const username = document.getElementById('username').value;
            const password = document.getElementById('password').value;

            if (!username || !password) {
                event.preventDefault(); // Prevent submission if fields are empty
                document.getElementById('messageDiv').innerHTML = '<div class="error-message">Please fill in both username and password.</div>';
            }
        });

        // PHP handles the backend logic:
        // 1. On page load, check if user is already logged in (session_start(), check $_SESSION['user_id']).
        //    If yes, redirect to appropriate dashboard (e.g., dashboard.html?role=member).
        // 2. On form submission (POST):
        //    - Get username and password from $_POST.
        //    - Connect to MySQL database (using mysqli or PDO).
        //    - Sanitize inputs (e.g., mysqli_real_escape_string).
        //    - Hash password (e.g., password_hash during registration, password_verify during login).
        //    - Query database for user with matching username and password hash.
        //    - If found, start session (session_start()), store user details ($_SESSION['user_id'], $_SESSION['username'], $_SESSION['role']).
        //    - Redirect to appropriate dashboard based on role.
        //    - If not found, set error message and display it here.
    </script>

</body>

</html>